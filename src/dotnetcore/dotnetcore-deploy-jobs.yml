parameters:
- name: serviceConnection
  type: string
- name: resource
  type: object
- name: environment
  type: string

jobs:
  - template: ../cloud/azure/appConfiguration/azure-appConfiguration-pullSecrets-jobs.yml
    parameters:
      environment: ${{ parameters.environment }}
  
  - ${{ if eq(parameters.resource.deployment.type, 'azureWebApp') }}:
      - template: ../cloud/azure/appservice/azure-appservice-deploy-jobs.yml
        parameters:
          serviceConnection: ${{ parameters.serviceConnection }}
          resource: ${{ parameters.resource }}