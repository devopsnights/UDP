trigger:
  branches:
    include:
    - main
  
pool:
  vmImage: 'windows-latest'

extends:

  template: ..\..\src\orchestrator.yml
  parameters:
    serviceConnection: 'AzureServiceConnection'
    environments:
      - dev
      - uat
      - prd
    configuration:
      buildOnly: false
      resources:
        - type: dotnetCore
          enabled: true
          deployment:
            type: azureWebApp
            name: wa-udp-dotnetcore-windows
            infrastructure:
              enabled: false
            application:
              enabled: true